<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get data to run the PePS2 trial example — peps2_get_data • trialr</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Get data to run the PePS2 trial example — peps2_get_data" />

<meta property="og:description" content="Get data to run the BEBOP model in the PePS2 trial. The trial
investigates pembrolizumab in non-small-cell lung cancer. Patients may be
previously treated (PT) or treatment naive (TN). Pembro response rates in
lung cancer have been shown to increase with PD-L1 tumour proportion score.
PD-L1 score is measured at baseline. Each patient belongs to one of the Low,
Medium or High categories. These two baseline variables stratify the patient
population and are used as predictive variables to stratify the analysis.
The BEBOP model studies co-primary efficacy and toxicity outcomes in the
presence of predictive data. Thus, PePS2 studies efficacy and toxicity in
6 distinct cohorts:
TN Low, TN Medium, TN High, PT Low, PT Medium, PT High.
The design admits all-comers and does not target specific sample sizes in the
individual cohorts.
Hyperprior parameters have defaults to match those used in PePS2, but all may
be overridden.
The returned object includes randomly-sampled outcomes, as well as parameters
to run the model. These are all combined in the same list object for passing
to RStan, as is the convention.
See the accompanying vignette for a full description." />





<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">trialr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/A200-CRM.html">Continual Reassessment Method</a>
    </li>
    <li>
      <a href="../articles/A210-CRM-visualisation.html">Visualisation with CRM</a>
    </li>
    <li>
      <a href="../articles/A220-CRM-pathways.html">Dose pathways with CRM</a>
    </li>
    <li>
      <a href="../articles/A250-LevyCaseStudy.html">CRM Case Study 1 - Levy et al (2006)</a>
    </li>
    <li>
      <a href="../articles/A260-TITE-CRM.html">Time-to-Event Continual Reassessment Method</a>
    </li>
    <li>
      <a href="../articles/A300-NeuenschwanderBransonGsponer.html">Two-parameter logistic model for dose-finding by Neuenschwander, Branson &amp; Gsponer</a>
    </li>
    <li>
      <a href="../articles/A400-EffTox.html">EffTox</a>
    </li>
    <li>
      <a href="../articles/A500-HierarchicalBayesianResponse.html">Hierarchical Bayesian Model for Binary Responses</a>
    </li>
    <li>
      <a href="../articles/A600-BEBOP.html">BEBOP in PePS2</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/brockk/trialr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get data to run the PePS2 trial example</h1>
    <small class="dont-index">Source: <a href='https://github.com/brockk/trialr/blob/master/R/peps2_get_data.R'><code>R/peps2_get_data.R</code></a></small>
    <div class="hidden name"><code>peps2_get_data.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Get data to run the BEBOP model in the PePS2 trial. The trial
investigates pembrolizumab in non-small-cell lung cancer. Patients may be
previously treated (PT) or treatment naive (TN). Pembro response rates in
lung cancer have been shown to increase with PD-L1 tumour proportion score.
PD-L1 score is measured at baseline. Each patient belongs to one of the Low,
Medium or High categories. These two baseline variables stratify the patient
population and are used as predictive variables to stratify the analysis.
The BEBOP model studies co-primary efficacy and toxicity outcomes in the
presence of predictive data. Thus, PePS2 studies efficacy and toxicity in
6 distinct cohorts:
TN Low, TN Medium, TN High, PT Low, PT Medium, PT High.
The design admits all-comers and does not target specific sample sizes in the
individual cohorts.
Hyperprior parameters have defaults to match those used in PePS2, but all may
be overridden.
The returned object includes randomly-sampled outcomes, as well as parameters
to run the model. These are all combined in the same list object for passing
to RStan, as is the convention.
See the accompanying vignette for a full description.</p>
    
    </div>

    <pre class="usage"><span class='fu'>peps2_get_data</span>(
  <span class='no'>num_patients</span>,
  <span class='kw'>cohort_probs</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>prob_eff</span>,
  <span class='no'>prob_tox</span>,
  <span class='no'>eff_tox_or</span>,
  <span class='kw'>cohort_rho</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>15.7</span>, <span class='fl'>21.8</span>, <span class='fl'>12.4</span>, <span class='fl'>20.7</span>, <span class='fl'>18</span>, <span class='fl'>11.4</span>),
  <span class='kw'>alpha_mean</span> <span class='kw'>=</span> -<span class='fl'>2.2</span>,
  <span class='kw'>alpha_sd</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>beta_mean</span> <span class='kw'>=</span> -<span class='fl'>0.5</span>,
  <span class='kw'>beta_sd</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>gamma_mean</span> <span class='kw'>=</span> -<span class='fl'>0.5</span>,
  <span class='kw'>gamma_sd</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>zeta_mean</span> <span class='kw'>=</span> -<span class='fl'>0.5</span>,
  <span class='kw'>zeta_sd</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>lambda_mean</span> <span class='kw'>=</span> -<span class='fl'>2.2</span>,
  <span class='kw'>lambda_sd</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>psi_mean</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>psi_sd</span> <span class='kw'>=</span> <span class='fl'>1</span>
)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>num_patients</th>
      <td><p>Total number of patients to use, positive integer.</p></td>
    </tr>
    <tr>
      <th>cohort_probs</th>
      <td><p>Probabilities that a patient belongs to each of the 6
cohorts, in the order given above; a vector of numbers between 0 and 1 that
add up to 1. <code>cohort_probs</code> or <code>cohort_rho</code> must be specified.</p></td>
    </tr>
    <tr>
      <th>prob_eff</th>
      <td><p>Probabilities of efficacy in each of the 6 cohorts, in the
order given above; a vector of numbers between 0 and 1</p></td>
    </tr>
    <tr>
      <th>prob_tox</th>
      <td><p>Probabilities of toxicity in each of the 6 cohorts, in the
order given above; a vector of numbers between 0 and 1</p></td>
    </tr>
    <tr>
      <th>eff_tox_or</th>
      <td><p>Measure of strength of association between efficacy and
toxicity, in each of the 6 cohorts, in the order given above; a vector of
numbers. Use 1 for no association; numbers increasingly greater than 1 for
stronger positive associations, and numbers less than 1 for stronger negative
associations</p></td>
    </tr>
    <tr>
      <th>cohort_rho</th>
      <td><p>Concentration parameters for cohort membership, in the
order given above, using a Dirichlet distribution. This leads to randomly-
sampled cohort sizes distributed Dir(cohort_rho). <code>cohort_probs</code> or
<code>cohort_rho</code> must be specified.</p></td>
    </tr>
    <tr>
      <th>alpha_mean</th>
      <td><p>The prior mean of alpha. Alpha is the efficacy model
intercept.</p></td>
    </tr>
    <tr>
      <th>alpha_sd</th>
      <td><p>The prior standard deviation of alpha. Alpha is the efficacy
model  intercept.</p></td>
    </tr>
    <tr>
      <th>beta_mean</th>
      <td><p>The prior mean of beta. Beta is the efficacy model term
for being previously treated.</p></td>
    </tr>
    <tr>
      <th>beta_sd</th>
      <td><p>The prior standard deviation of beta. Beta is the efficacy
model term for being previously treated.</p></td>
    </tr>
    <tr>
      <th>gamma_mean</th>
      <td><p>The prior mean of gamma. Gamma is the efficacy model term
for being PD-L1 score = Low.</p></td>
    </tr>
    <tr>
      <th>gamma_sd</th>
      <td><p>The prior standard deviation of gamma. Gamma is the efficacy
model term for being PD-L1 score = Low.</p></td>
    </tr>
    <tr>
      <th>zeta_mean</th>
      <td><p>The prior mean of zeta. Zeta is the efficacy model term
for being PD-L1 score = Medium.</p></td>
    </tr>
    <tr>
      <th>zeta_sd</th>
      <td><p>The prior standard deviation of zeta. Zeta is the efficacy
model term for being PD-L1 score = Medium.</p></td>
    </tr>
    <tr>
      <th>lambda_mean</th>
      <td><p>The prior mean of lambda. Lambda is the toxicity model
intercept.</p></td>
    </tr>
    <tr>
      <th>lambda_sd</th>
      <td><p>The prior standard deviation of lambda. Lambda is the
toxicity model intercept.</p></td>
    </tr>
    <tr>
      <th>psi_mean</th>
      <td><p>The prior mean of psi. Psi is the joint model association
parameter.</p></td>
    </tr>
    <tr>
      <th>psi_sd</th>
      <td><p>The prior standard deviation of psi. Psi is the joint model
association parameter.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <code>list</code> of parameters</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>123</span>)
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'>peps2_get_data</span>(<span class='kw'>num_patients</span> <span class='kw'>=</span> <span class='fl'>60</span>,
                      <span class='kw'>prob_eff</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.167</span>, <span class='fl'>0.192</span>, <span class='fl'>0.5</span>, <span class='fl'>0.091</span>, <span class='fl'>0.156</span>, <span class='fl'>0.439</span>),
                      <span class='kw'>prob_tox</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='fl'>0.1</span>, <span class='fl'>6</span>),
                      <span class='kw'>eff_tox_or</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='fl'>1</span>, <span class='fl'>6</span>))
<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='stan_peps2.html'>stan_peps2</a></span>(
  <span class='kw'>eff</span> <span class='kw'>=</span> <span class='no'>dat</span>$<span class='no'>eff</span>,
  <span class='kw'>tox</span> <span class='kw'>=</span> <span class='no'>dat</span>$<span class='no'>tox</span>,
  <span class='kw'>cohorts</span> <span class='kw'>=</span> <span class='no'>dat</span>$<span class='no'>cohorts</span>
)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kristian Brock.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


